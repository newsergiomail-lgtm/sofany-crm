const db = require('../config/database');
const bcrypt = require('bcryptjs');

const seedData = async () => {
  try {
    console.log('üå± –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏...');

    // –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    const hashedPassword = await bcrypt.hash('admin123', 12);
    
    const users = await db.query(`
      INSERT INTO users (email, password, name, role) VALUES 
      ('admin@sofany.com', $1, '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä', 'admin'),
      ('manager@sofany.com', $1, '–ú–µ–Ω–µ–¥–∂–µ—Ä', 'manager'),
      ('worker@sofany.com', $1, '–†–∞–±–æ—á–∏–π', 'worker')
      ON CONFLICT (email) DO NOTHING
      RETURNING id, email, name, role
    `, [hashedPassword]);

    console.log('‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞–Ω—ã');

    // –°–æ–∑–¥–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
    const categories = await db.query(`
      INSERT INTO material_categories (name, description) VALUES 
      ('–§–∞–Ω–µ—Ä–∞', '–§–∞–Ω–µ—Ä–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–æ–ª—â–∏–Ω –∏ —Å–æ—Ä—Ç–æ–≤'),
      ('–î–í–ü', '–î—Ä–µ–≤–µ—Å–Ω–æ-–≤–æ–ª–æ–∫–Ω–∏—Å—Ç—ã–µ –ø–ª–∏—Ç—ã'),
      ('–ü–ü–£', '–ü–µ–Ω–æ–ø–æ–ª–∏—É—Ä–µ—Ç–∞–Ω –¥–ª—è –Ω–∞–ø–æ–ª–Ω–µ–Ω–∏—è'),
      ('–¢–∫–∞–Ω–∏', '–û–±–∏–≤–æ—á–Ω—ã–µ —Ç–∫–∞–Ω–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã'),
      ('–§—É—Ä–Ω–∏—Ç—É—Ä–∞', '–†—É—á–∫–∏, –ø–µ—Ç–ª–∏, –∫—Ä–µ–ø–µ–∂'),
      ('–ö–ª–µ–π –∏ –≥–µ—Ä–º–µ—Ç–∏–∫–∏', '–ö–ª–µ–µ–≤—ã–µ —Å–æ—Å—Ç–∞–≤—ã –∏ –≥–µ—Ä–º–µ—Ç–∏–∫–∏')
      RETURNING id, name
    `);

    console.log('‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ —Å–æ–∑–¥–∞–Ω—ã');

    // –°–æ–∑–¥–∞–µ–º –º–∞—Ç–µ—Ä–∏–∞–ª—ã
    const materials = await db.query(`
      INSERT INTO materials (name, category_id, unit, current_stock, min_stock, price_per_unit, supplier, notes) VALUES 
      ('–§–∞–Ω–µ—Ä–∞ 18–º–º –±–µ—Ä–µ–∑–∞', 1, '–º¬≤', 50, 10, 1200, '–õ–µ—Å–¢–æ—Ä–≥', '–í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ'),
      ('–§–∞–Ω–µ—Ä–∞ 12–º–º —Ö–≤–æ–π–Ω–∞—è', 1, '–º¬≤', 30, 5, 800, '–õ–µ—Å–¢–æ—Ä–≥', '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è'),
      ('–î–í–ü 3.2–º–º', 2, '–º¬≤', 100, 20, 300, '–ü–ª–∏—Ç–¢–æ—Ä–≥', '–î–ª—è –∑–∞–¥–Ω–∏—Ö —Å—Ç–µ–Ω–æ–∫'),
      ('–ü–ü–£ –ø–ª–æ—Ç–Ω–æ—Å—Ç—å 25', 3, '–º¬≥', 5, 1, 15000, '–ü–µ–Ω–æ–ú–∞—Ç', '–î–ª—è –º—è–≥–∫–æ–π –º–µ–±–µ–ª–∏'),
      ('–¢–∫–∞–Ω—å –≤–µ–ª—é—Ä —Å–µ—Ä–∞—è', 4, '–º', 200, 50, 800, '–¢–µ–∫—Å—Ç–∏–ª—å–ü—Ä–æ', '–û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è'),
      ('–¢–∫–∞–Ω—å –∫–æ–∂–∑–∞–º —á–µ—Ä–Ω–∞—è', 4, '–º', 150, 30, 1200, '–¢–µ–∫—Å—Ç–∏–ª—å–ü—Ä–æ', '–ü—Ä–µ–º–∏—É–º —Å–µ—Ä–∏—è'),
      ('–†—É—á–∫–∏ —Ö—Ä–æ–º 128–º–º', 5, '—à—Ç', 500, 100, 150, '–§—É—Ä–Ω–∏—Ç—É—Ä–∞–ü–ª—é—Å', '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ'),
      ('–ü–µ—Ç–ª–∏ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ', 5, '—à—Ç', 1000, 200, 80, '–§—É—Ä–Ω–∏—Ç—É—Ä–∞–ü–ª—é—Å', '–î–ª—è –¥–≤–µ—Ä–µ–π'),
      ('–ö–ª–µ–π –ü–í–ê', 6, '–∫–≥', 20, 5, 200, '–•–∏–º–¢–æ—Ä–≥', '–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π'),
      ('–ì–µ—Ä–º–µ—Ç–∏–∫ —Å–∏–ª–∏–∫–æ–Ω–æ–≤—ã–π', 6, '—à—Ç', 50, 10, 300, '–•–∏–º–¢–æ—Ä–≥', '–ë–µ–ª—ã–π')
      RETURNING id, name, current_stock, min_stock
    `);

    console.log('‚úÖ –ú–∞—Ç–µ—Ä–∏–∞–ª—ã —Å–æ–∑–¥–∞–Ω—ã');

    // –°–æ–∑–¥–∞–µ–º –∫–ª–∏–µ–Ω—Ç–æ–≤
    const customers = await db.query(`
      INSERT INTO customers (name, email, phone, company, address, notes, created_by) VALUES 
      ('–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á', 'ivanov@email.com', '+7-999-123-45-67', '–û–û–û –ú–µ–±–µ–ª—å–ü—Ä–æ', '–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –õ–µ–Ω–∏–Ω–∞, 1', 'VIP –∫–ª–∏–µ–Ω—Ç', 1),
      ('–ü–µ—Ç—Ä–æ–≤–∞ –ê–Ω–Ω–∞ –°–µ—Ä–≥–µ–µ–≤–Ω–∞', 'petrova@email.com', '+7-999-234-56-78', '–ò–ü –ü–µ—Ç—Ä–æ–≤–∞', '–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—É—à–∫–∏–Ω–∞, 10', '–ß–∞—Å—Ç–Ω—ã–π –∑–∞–∫–∞–∑—á–∏–∫', 1),
      ('–°–∏–¥–æ—Ä–æ–≤ –ü–µ—Ç—Ä –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á', 'sidorov@email.com', '+7-999-345-67-89', '–û–û–û –î–∏–∑–∞–π–Ω–°—Ç—É–¥–∏—è', '–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ì–∞–≥–∞—Ä–∏–Ω–∞, 25', '–î–∏–∑–∞–π–Ω–µ—Ä—Å–∫–∞—è —Å—Ç—É–¥–∏—è', 2),
      ('–ö–æ–∑–ª–æ–≤–∞ –ú–∞—Ä–∏—è –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞', 'kozlova@email.com', '+7-999-456-78-90', '', '–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ú–∏—Ä–∞, 5', '–ß–∞—Å—Ç–Ω—ã–π –∑–∞–∫–∞–∑—á–∏–∫', 2),
      ('–í–æ–ª–∫–æ–≤ –ê–ª–µ–∫—Å–µ–π –ù–∏–∫–æ–ª–∞–µ–≤–∏—á', 'volkov@email.com', '+7-999-567-89-01', '–û–û–û –û—Ñ–∏—Å–ú–µ–±–µ–ª—å', '–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –°–æ–≤–µ—Ç—Å–∫–∞—è, 15', '–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π –∫–ª–∏–µ–Ω—Ç', 1)
      ON CONFLICT (email) DO NOTHING
      RETURNING id, name, email
    `);

    console.log('‚úÖ –ö–ª–∏–µ–Ω—Ç—ã —Å–æ–∑–¥–∞–Ω—ã');

    // –°–æ–∑–¥–∞–µ–º –∑–∞–∫–∞–∑—ã
    const orders = await db.query(`
      INSERT INTO orders (order_number, customer_id, status, priority, total_amount, paid_amount, delivery_date, notes, created_by) VALUES 
      ('SOF-1703123456789', 1, 'in_production', 'high', 45000, 20000, '2024-01-15', '–°—Ä–æ—á–Ω—ã–π –∑–∞–∫–∞–∑', 1),
      ('SOF-1703123456790', 2, 'ready', 'normal', 28000, 28000, '2024-01-10', '–ì–æ—Ç–æ–≤ –∫ –æ—Ç–≥—Ä—É–∑–∫–µ', 2),
      ('SOF-1703123456791', 3, 'new', 'normal', 65000, 0, '2024-01-20', '–ë–æ–ª—å—à–æ–π –∑–∞–∫–∞–∑', 1),
      ('SOF-1703123456792', 4, 'confirmed', 'low', 15000, 5000, '2024-01-25', '–ù–µ–±–æ–ª—å—à–æ–π –∑–∞–∫–∞–∑', 2),
      ('SOF-1703123456793', 5, 'delivered', 'normal', 35000, 35000, '2024-01-05', '–ó–∞–≤–µ—Ä—à–µ–Ω', 1)
      RETURNING id, order_number, customer_id, status, total_amount
    `);

    console.log('‚úÖ –ó–∞–∫–∞–∑—ã —Å–æ–∑–¥–∞–Ω—ã');

    // –°–æ–∑–¥–∞–µ–º –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤
    await db.query(`
      INSERT INTO order_items (order_id, name, description, quantity, unit_price, total_price) VALUES 
      (1, '–î–∏–≤–∞–Ω —É–≥–ª–æ–≤–æ–π', '–î–∏–≤–∞–Ω —É–≥–ª–æ–≤–æ–π 3+2, —Ç–∫–∞–Ω—å –≤–µ–ª—é—Ä', 1, 45000, 45000),
      (2, '–ö—Ä–µ—Å–ª–æ –æ—Ñ–∏—Å–Ω–æ–µ', '–ö—Ä–µ—Å–ª–æ –æ—Ñ–∏—Å–Ω–æ–µ —Å –ø–æ–¥–ª–æ–∫–æ—Ç–Ω–∏–∫–∞–º–∏', 2, 14000, 28000),
      (3, '–ì–∞—Ä–Ω–∏—Ç—É—Ä —Å–ø–∞–ª—å–Ω—ã–π', '–°–ø–∞–ª—å–Ω—ã–π –≥–∞—Ä–Ω–∏—Ç—É—Ä: –∫—Ä–æ–≤–∞—Ç—å, —Ç—É–º–±—ã, —à–∫–∞—Ñ', 1, 65000, 65000),
      (4, '–°—Ç–æ–ª –ø–∏—Å—å–º–µ–Ω–Ω—ã–π', '–°—Ç–æ–ª –ø–∏—Å—å–º–µ–Ω–Ω—ã–π —Å —è—â–∏–∫–∞–º–∏', 1, 15000, 15000),
      (5, '–°—Ç—É–ª—å—è –æ–±–µ–¥–µ–Ω–Ω—ã–µ', '–°—Ç—É–ª—å—è –æ–±–µ–¥–µ–Ω–Ω—ã–µ, –∫–æ–º–ø–ª–µ–∫—Ç 6 —à—Ç', 1, 35000, 35000)
    `);

    console.log('‚úÖ –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤ —Å–æ–∑–¥–∞–Ω—ã');

    // –°–æ–∑–¥–∞–µ–º –∏—Å—Ç–æ—Ä–∏—é —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–∫–∞–∑–æ–≤
    await db.query(`
      INSERT INTO order_status_history (order_id, status, comment, created_by) VALUES 
      (1, 'new', '–ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω', 1),
      (1, 'confirmed', '–ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω', 1),
      (1, 'in_production', '–ó–∞–∫–∞–∑ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ', 1),
      (2, 'new', '–ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω', 2),
      (2, 'confirmed', '–ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω', 2),
      (2, 'in_production', '–ó–∞–∫–∞–∑ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ', 2),
      (2, 'ready', '–ó–∞–∫–∞–∑ –≥–æ—Ç–æ–≤', 2),
      (3, 'new', '–ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω', 1),
      (4, 'new', '–ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω', 2),
      (4, 'confirmed', '–ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω', 2),
      (5, 'new', '–ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω', 1),
      (5, 'confirmed', '–ó–∞–∫–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω', 1),
      (5, 'in_production', '–ó–∞–∫–∞–∑ –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ', 1),
      (5, 'ready', '–ó–∞–∫–∞–∑ –≥–æ—Ç–æ–≤', 1),
      (5, 'shipped', '–ó–∞–∫–∞–∑ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω', 1),
      (5, 'delivered', '–ó–∞–∫–∞–∑ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω', 1)
    `);

    console.log('‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–æ–∑–¥–∞–Ω–∞');

    // –°–æ–∑–¥–∞–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    await db.query(`
      INSERT INTO production_operations (order_id, operation_type, status, assigned_to, start_date, end_date, notes, created_by) VALUES 
      (1, 'purchase_and_produce', 'in_progress', 3, '2024-01-08 09:00:00', NULL, '–ó–∞–∫—É–ø–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ –Ω–∞—á–∞–ª–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞', 1),
      (2, 'produce', 'completed', 3, '2024-01-05 10:00:00', '2024-01-09 17:00:00', '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –∑–∞–≤–µ—Ä—à–µ–Ω–æ', 2),
      (3, 'purchase', 'pending', NULL, NULL, NULL, '–û–∂–∏–¥–∞–µ—Ç –∑–∞–∫—É–ø–∫–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤', 1),
      (4, 'purchase', 'completed', 3, '2024-01-06 08:00:00', '2024-01-07 16:00:00', '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –∑–∞–∫—É–ø–ª–µ–Ω—ã', 2),
      (5, 'purchase_and_produce', 'completed', 3, '2024-01-02 09:00:00', '2024-01-04 18:00:00', '–ó–∞–∫–∞–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω', 1)
    `);

    console.log('‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã');

    // –°–æ–∑–¥–∞–µ–º —Ä–∞—Å—Ö–æ–¥ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
    await db.query(`
      INSERT INTO material_usage (order_id, material_id, quantity_used, unit_cost, total_cost, operation_id) VALUES 
      (1, 1, 2.5, 1200, 3000, 1),
      (1, 4, 0.8, 15000, 12000, 1),
      (1, 5, 15, 800, 12000, 1),
      (1, 7, 4, 150, 600, 1),
      (2, 1, 1.2, 1200, 1440, 2),
      (2, 5, 8, 800, 6400, 2),
      (2, 7, 2, 150, 300, 2),
      (5, 1, 1.8, 1200, 2160, 5),
      (5, 5, 12, 800, 9600, 5),
      (5, 7, 6, 150, 900, 5)
    `);

    console.log('‚úÖ –†–∞—Å—Ö–æ–¥ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ —Å–æ–∑–¥–∞–Ω');

    // –°–æ–∑–¥–∞–µ–º —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
    await db.query(`
      INSERT INTO financial_transactions (type, category, amount, description, order_id, created_by, transaction_date) VALUES 
      ('income', '–ü—Ä–æ–¥–∞–∂–∞ –º–µ–±–µ–ª–∏', 20000, '–ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ –∑–∞ –∑–∞–∫–∞–∑ SOF-1703123456789', 1, 1, '2024-01-08'),
      ('expense', '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã', 15000, '–ó–∞–∫—É–ø–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –∑–∞–∫–∞–∑–∞ SOF-1703123456789', 1, 1, '2024-01-08'),
      ('income', '–ü—Ä–æ–¥–∞–∂–∞ –º–µ–±–µ–ª–∏', 28000, '–û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞ SOF-1703123456790', 2, 2, '2024-01-09'),
      ('expense', '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã', 8140, '–ó–∞–∫—É–ø–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –∑–∞–∫–∞–∑–∞ SOF-1703123456790', 2, 2, '2024-01-05'),
      ('income', '–ü—Ä–æ–¥–∞–∂–∞ –º–µ–±–µ–ª–∏', 5000, '–ü—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ –∑–∞ –∑–∞–∫–∞–∑ SOF-1703123456792', 4, 2, '2024-01-06'),
      ('expense', '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã', 3000, '–ó–∞–∫—É–ø–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –∑–∞–∫–∞–∑–∞ SOF-1703123456792', 4, 2, '2024-01-07'),
      ('income', '–ü—Ä–æ–¥–∞–∂–∞ –º–µ–±–µ–ª–∏', 35000, '–û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞ SOF-1703123456793', 5, 1, '2024-01-05'),
      ('expense', '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã', 12660, '–ó–∞–∫—É–ø–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –∑–∞–∫–∞–∑–∞ SOF-1703123456793', 5, 1, '2024-01-02'),
      ('expense', '–ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏', 5000, '–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ –∑–∞ —è–Ω–≤–∞—Ä—å', NULL, 1, '2024-01-31'),
      ('expense', '–ê—Ä–µ–Ω–¥–∞', 15000, '–ê—Ä–µ–Ω–¥–∞ –ø–æ–º–µ—â–µ–Ω–∏—è –∑–∞ —è–Ω–≤–∞—Ä—å', NULL, 1, '2024-01-31')
    `);

    console.log('‚úÖ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω—ã');

    // –°–æ–∑–¥–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    await db.query(`
      INSERT INTO notifications (user_id, type, title, message, data) VALUES 
      (NULL, 'info', '–ù–æ–≤—ã–π –∑–∞–∫–∞–∑', '–°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑ SOF-1703123456789 –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á', '{"order_id": 1, "order_number": "SOF-1703123456789"}'),
      (NULL, 'warning', '–ù–∏–∑–∫–∏–µ –æ—Å—Ç–∞—Ç–∫–∏', '–ú–∞—Ç–µ—Ä–∏–∞–ª "–§–∞–Ω–µ—Ä–∞ 12–º–º —Ö–≤–æ–π–Ω–∞—è" –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è. –¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫: 30, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π: 5', '{"material_name": "–§–∞–Ω–µ—Ä–∞ 12–º–º —Ö–≤–æ–π–Ω–∞—è", "current_stock": 30, "min_stock": 5}'),
      (NULL, 'success', '–ó–∞–∫–∞–∑ –≥–æ—Ç–æ–≤', '–ó–∞–∫–∞–∑ SOF-1703123456790 –≥–æ—Ç–æ–≤ –∫ –æ—Ç–≥—Ä—É–∑–∫–µ', '{"order_id": 2, "order_number": "SOF-1703123456790"}'),
      (NULL, 'info', '–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞', '–ó–∞–∫–∞–∑ SOF-1703123456793 –∏–∑–º–µ–Ω–∏–ª —Å—Ç–∞—Ç—É—Å –Ω–∞ "–î–æ—Å—Ç–∞–≤–ª–µ–Ω"', '{"order_id": 5, "order_number": "SOF-1703123456793"}')
    `);

    console.log('‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã');

    // –°–æ–∑–¥–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã
    await db.query(`
      INSERT INTO system_settings (key, value, description) VALUES 
      ('company_name', 'Sofany', '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏'),
      ('company_email', 'info@sofany.com', 'Email –∫–æ–º–ø–∞–Ω–∏–∏'),
      ('company_phone', '+7-495-123-45-67', '–¢–µ–ª–µ—Ñ–æ–Ω –∫–æ–º–ø–∞–Ω–∏–∏'),
      ('default_currency', 'RUB', '–í–∞–ª—é—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é'),
      ('low_stock_threshold', '1.5', '–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –Ω–∏–∑–∫–∏—Ö –æ—Å—Ç–∞—Ç–∫–∞—Ö'),
      ('auto_notifications', 'true', '–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è'),
      ('telegram_notifications', 'true', '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram'),
      ('email_notifications', 'true', '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ email')
    `);

    console.log('‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã —Å–æ–∑–¥–∞–Ω—ã');

    console.log('üéâ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!');
    console.log('\nüìã –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞:');
    console.log('–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä: admin@sofany.com / admin123');
    console.log('–ú–µ–Ω–µ–¥–∂–µ—Ä: manager@sofany.com / admin123');
    console.log('–†–∞–±–æ—á–∏–π: worker@sofany.com / admin123');

  } catch (error) {
    console.error('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:', error);
    throw error;
  }
};

const runSeed = async () => {
  try {
    await seedData();
    console.log('‚úÖ –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!');
    process.exit(0);
  } catch (error) {
    console.error('üí• –û—à–∏–±–∫–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è:', error);
    process.exit(1);
  }
};

if (require.main === module) {
  runSeed();
}

module.exports = { seedData };























