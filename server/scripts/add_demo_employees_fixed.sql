-- Добавление демо-сотрудников в систему (исправленная версия)

-- Сначала добавим отделы с кодами
INSERT INTO departments (name, code, description) VALUES 
('Производство', 'PROD', 'Отдел производства мебели'),
('Менеджмент', 'MGMT', 'Управленческий персонал'),
('Снабжение', 'SUPPLY', 'Отдел закупок и снабжения'),
('Бухгалтерия', 'ACCOUNT', 'Финансовый отдел'),
('Дизайн', 'DESIGN', 'Отдел дизайна и проектирования')
ON CONFLICT (name) DO NOTHING;

-- Добавим должности
INSERT INTO positions (name, department_id, description) VALUES 
('Мастер цеха', 1, 'Руководитель производственного цеха'),
('Столяр', 1, 'Изготовление деревянных деталей'),
('Швея', 1, 'Пошив мягкой мебели'),
('Сборщик', 1, 'Сборка готовой мебели'),
('Директор', 2, 'Руководитель компании'),
('Менеджер по продажам', 2, 'Работа с клиентами и продажи'),
('Менеджер по закупкам', 3, 'Закупка материалов и комплектующих'),
('Бухгалтер', 4, 'Ведение финансового учета'),
('Дизайнер', 5, 'Проектирование мебели'),
('Технолог', 1, 'Разработка технологических процессов')
ON CONFLICT (name) DO NOTHING;

-- Добавим демо-сотрудников
INSERT INTO employees (
    first_name, 
    last_name, 
    department, 
    position, 
    is_active
) VALUES 
-- Производство
('Александр', 'Петров', 'Производство', 'Мастер цеха', true),
('Михаил', 'Сидоров', 'Производство', 'Столяр', true),
('Елена', 'Козлова', 'Производство', 'Швея', true),
('Дмитрий', 'Волков', 'Производство', 'Сборщик', true),
('Анна', 'Морозова', 'Производство', 'Технолог', true),

-- Менеджмент
('Владимир', 'Иванов', 'Менеджмент', 'Директор', true),
('Ольга', 'Смирнова', 'Менеджмент', 'Менеджер по продажам', true),

-- Снабжение
('Сергей', 'Кузнецов', 'Снабжение', 'Менеджер по закупкам', true),

-- Бухгалтерия
('Татьяна', 'Новикова', 'Бухгалтерия', 'Бухгалтер', true),

-- Дизайн
('Мария', 'Федорова', 'Дизайн', 'Дизайнер', true);

-- Сначала добавим отделы с кодами
INSERT INTO departments (name, code, description) VALUES 
('Производство', 'PROD', 'Отдел производства мебели'),
('Менеджмент', 'MGMT', 'Управленческий персонал'),
('Снабжение', 'SUPPLY', 'Отдел закупок и снабжения'),
('Бухгалтерия', 'ACCOUNT', 'Финансовый отдел'),
('Дизайн', 'DESIGN', 'Отдел дизайна и проектирования')
ON CONFLICT (name) DO NOTHING;

-- Добавим должности
INSERT INTO positions (name, department_id, description) VALUES 
('Мастер цеха', 1, 'Руководитель производственного цеха'),
('Столяр', 1, 'Изготовление деревянных деталей'),
('Швея', 1, 'Пошив мягкой мебели'),
('Сборщик', 1, 'Сборка готовой мебели'),
('Директор', 2, 'Руководитель компании'),
('Менеджер по продажам', 2, 'Работа с клиентами и продажи'),
('Менеджер по закупкам', 3, 'Закупка материалов и комплектующих'),
('Бухгалтер', 4, 'Ведение финансового учета'),
('Дизайнер', 5, 'Проектирование мебели'),
('Технолог', 1, 'Разработка технологических процессов')
ON CONFLICT (name) DO NOTHING;

-- Добавим демо-сотрудников
INSERT INTO employees (
    first_name, 
    last_name, 
    department, 
    position, 
    is_active
) VALUES 
-- Производство
('Александр', 'Петров', 'Производство', 'Мастер цеха', true),
('Михаил', 'Сидоров', 'Производство', 'Столяр', true),
('Елена', 'Козлова', 'Производство', 'Швея', true),
('Дмитрий', 'Волков', 'Производство', 'Сборщик', true),
('Анна', 'Морозова', 'Производство', 'Технолог', true),

-- Менеджмент
('Владимир', 'Иванов', 'Менеджмент', 'Директор', true),
('Ольга', 'Смирнова', 'Менеджмент', 'Менеджер по продажам', true),

-- Снабжение
('Сергей', 'Кузнецов', 'Снабжение', 'Менеджер по закупкам', true),

-- Бухгалтерия
('Татьяна', 'Новикова', 'Бухгалтерия', 'Бухгалтер', true),

-- Дизайн
('Мария', 'Федорова', 'Дизайн', 'Дизайнер', true);










