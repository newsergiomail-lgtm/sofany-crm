<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ —Å –∑–∞–≥—Ä—É–∑–∫–æ–π —á–µ—Ä—Ç–µ–∂–µ–π</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://unpkg.com/react-hot-toast@2.4.1/dist/index.min.js"></script>
    <script src="https://unpkg.com/axios@1.6.0/dist/axios.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .step-completed { @apply bg-teal-600 border-teal-600 text-white; }
        .step-current { @apply bg-teal-100 border-teal-600 text-teal-600; }
        .step-accessible { @apply bg-white border-gray-300 text-gray-400; }
        .step-disabled { @apply bg-gray-100 border-gray-200 text-gray-300; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef } = React;
        const { ArrowLeft, ArrowRight, Check, User, Package, Truck, DollarSign, FileText, Upload, Eye, Download, Trash2 } = lucide;

        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä—Ç–µ–∂–µ–π
        const DrawingUpload = ({ drawings = [], onUpload, onDelete, onDownload, onView, maxFiles = 10, maxFileSize = 10 * 1024 * 1024, acceptedTypes = ['.pdf', '.dwg', '.dxf', '.jpg', '.jpeg', '.png', '.tiff', '.bmp'] }) => {
            const [isDragOver, setIsDragOver] = useState(false);
            const [uploading, setUploading] = useState(false);
            const fileInputRef = useRef(null);

            const handleDragOver = (e) => {
                e.preventDefault();
                setIsDragOver(true);
            };

            const handleDragLeave = (e) => {
                e.preventDefault();
                setIsDragOver(false);
            };

            const handleDrop = (e) => {
                e.preventDefault();
                setIsDragOver(false);
                const files = Array.from(e.dataTransfer.files);
                handleFiles(files);
            };

            const handleFileSelect = (e) => {
                const files = Array.from(e.target.files);
                handleFiles(files);
            };

            const handleFiles = async (files) => {
                if (files.length === 0) return;

                if (drawings.length + files.length > maxFiles) {
                    alert(`–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤: ${maxFiles}`);
                    return;
                }

                for (const file of files) {
                    if (file.size > maxFileSize) {
                        alert(`–§–∞–π–ª "${file.name}" —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: ${Math.round(maxFileSize / 1024 / 1024)}MB`);
                        continue;
                    }

                    const fileExtension = '.' + file.name.split('.').pop().toLowerCase();
                    if (!acceptedTypes.includes(fileExtension)) {
                        alert(`–§–∞–π–ª "${file.name}" –∏–º–µ–µ—Ç –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: ${acceptedTypes.join(', ')}`);
                        continue;
                    }

                    try {
                        setUploading(true);
                        await onUpload(file);
                        alert(`–§–∞–π–ª "${file.name}" –∑–∞–≥—Ä—É–∂–µ–Ω —É—Å–ø–µ—à–Ω–æ`);
                    } catch (error) {
                        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞:', error);
                        alert(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ "${file.name}"`);
                    }
                }

                setUploading(false);
                if (fileInputRef.current) {
                    fileInputRef.current.value = '';
                }
            };

            const formatFileSize = (bytes) => {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            };

            const getFileIcon = (fileType) => {
                if (fileType.includes('pdf')) return 'üìÑ';
                if (fileType.includes('dwg') || fileType.includes('dxf')) return 'üìê';
                if (fileType.includes('image')) return 'üñºÔ∏è';
                return 'üìÅ';
            };

            return React.createElement('div', { className: 'space-y-4' },
                React.createElement('div', {
                    className: `border-2 border-dashed rounded-lg p-8 text-center transition-colors ${isDragOver ? 'border-teal-500 bg-teal-50' : 'border-gray-300 hover:border-gray-400'} ${uploading ? 'opacity-50 pointer-events-none' : ''}`,
                    onDragOver: handleDragOver,
                    onDragLeave: handleDragLeave,
                    onDrop: handleDrop
                },
                    React.createElement(Upload, { className: 'h-12 w-12 text-gray-400 mx-auto mb-4' }),
                    React.createElement('div', { className: 'space-y-2' },
                        React.createElement('p', { className: 'text-lg font-medium text-gray-900' },
                            uploading ? '–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤...' : '–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —á–µ—Ä—Ç–µ–∂–∏ —Å—é–¥–∞'
                        ),
                        React.createElement('p', { className: 'text-sm text-gray-500' },
                            '–∏–ª–∏ ',
                            React.createElement('button', {
                                type: 'button',
                                onClick: () => fileInputRef.current?.click(),
                                className: 'text-teal-600 hover:text-teal-700 font-medium'
                            }, '–≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª—ã')
                        ),
                        React.createElement('p', { className: 'text-xs text-gray-400' },
                            `–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: ${acceptedTypes.join(', ')} ‚Ä¢ –ú–∞–∫—Å–∏–º—É–º ${maxFiles} —Ñ–∞–π–ª–æ–≤ ‚Ä¢ –î–æ ${Math.round(maxFileSize / 1024 / 1024)}MB –∫–∞–∂–¥—ã–π`
                        )
                    ),
                    React.createElement('input', {
                        ref: fileInputRef,
                        type: 'file',
                        multiple: true,
                        accept: acceptedTypes.join(','),
                        onChange: handleFileSelect,
                        className: 'hidden'
                    })
                ),
                drawings.length > 0 && React.createElement('div', { className: 'space-y-2' },
                    React.createElement('h4', { className: 'text-sm font-medium text-gray-900' },
                        `–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —á–µ—Ä—Ç–µ–∂–∏ (${drawings.length})`
                    ),
                    React.createElement('div', { className: 'space-y-2' },
                        drawings.map((drawing, index) => React.createElement('div', {
                            key: drawing.id || index,
                            className: 'flex items-center justify-between p-3 bg-gray-50 rounded-lg border'
                        },
                            React.createElement('div', { className: 'flex items-center space-x-3' },
                                React.createElement('span', { className: 'text-2xl' },
                                    getFileIcon(drawing.file_type || drawing.type)
                                ),
                                React.createElement('div', { className: 'flex-1 min-w-0' },
                                    React.createElement('p', { className: 'text-sm font-medium text-gray-900 truncate' },
                                        drawing.file_name || drawing.name
                                    ),
                                    React.createElement('p', { className: 'text-xs text-gray-500' },
                                        formatFileSize(drawing.file_size || drawing.size)
                                    )
                                )
                            ),
                            React.createElement('div', { className: 'flex items-center space-x-2' },
                                onView && React.createElement('button', {
                                    type: 'button',
                                    onClick: () => onView(drawing),
                                    className: 'p-1 text-gray-400 hover:text-gray-600 transition-colors',
                                    title: '–ü—Ä–æ—Å–º–æ—Ç—Ä'
                                }, React.createElement(Eye, { className: 'h-4 w-4' })),
                                onDownload && React.createElement('button', {
                                    type: 'button',
                                    onClick: () => onDownload(drawing),
                                    className: 'p-1 text-gray-400 hover:text-gray-600 transition-colors',
                                    title: '–°–∫–∞—á–∞—Ç—å'
                                }, React.createElement(Download, { className: 'h-4 w-4' })),
                                onDelete && React.createElement('button', {
                                    type: 'button',
                                    onClick: () => onDelete(drawing),
                                    className: 'p-1 text-red-400 hover:text-red-600 transition-colors',
                                    title: '–£–¥–∞–ª–∏—Ç—å'
                                }, React.createElement(Trash2, { className: 'h-4 w-4' }))
                            )
                        ))
                    )
                )
            );
        };

        // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR-–∫–æ–¥–∞
        const QRCodeGenerator = ({ orderId }) => {
            const [qrCode, setQrCode] = useState(null);
            const [loading, setLoading] = useState(false);

            const generateQR = async () => {
                setLoading(true);
                try {
                    const response = await fetch(`/api/production/generate-qr/${orderId}`, {
                        method: 'POST',
                        headers: {
                            'Authorization': `Bearer ${localStorage.getItem('token')}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({ stageId: 1 })
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        setQrCode(data.qrCodeUrl);
                        alert('QR-–∫–æ–¥ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω —É—Å–ø–µ—à–Ω–æ!');
                    } else {
                        throw new Error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR-–∫–æ–¥–∞');
                    }
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR-–∫–æ–¥–∞:', error);
                    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ QR-–∫–æ–¥–∞');
                } finally {
                    setLoading(false);
                }
            };

            return React.createElement('div', { className: 'bg-white rounded-lg p-6 border' },
                React.createElement('h3', { className: 'text-lg font-semibold mb-4' }, 'QR-–∫–æ–¥ –¥–ª—è –∑–∞–∫–∞–∑–∞'),
                React.createElement('button', {
                    onClick: generateQR,
                    disabled: loading,
                    className: 'px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50'
                }, loading ? '–ì–µ–Ω–µ—Ä–∞—Ü–∏—è...' : '–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥'),
                qrCode && React.createElement('div', { className: 'mt-4' },
                    React.createElement('img', { src: qrCode, alt: 'QR Code', className: 'mx-auto' })
                )
            );
        };

        // –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–∞—Å—Ç–µ—Ä–∞
        const CreateOrderWizard = () => {
            const [currentStep, setCurrentStep] = useState(1);
            const [completedSteps, setCompletedSteps] = useState(new Set());
            const [createdOrderId, setCreatedOrderId] = useState(null);
            const [errors, setErrors] = useState({});
            const [loading, setLoading] = useState(false);

            // –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
            const [clientInfo, setClientInfo] = useState({
                name: '', phone: '', email: '', company: ''
            });

            const [orderDetails, setOrderDetails] = useState({
                productName: '', description: '', priority: 'normal', deadline: '',
                items: [{ name: '', quantity: 1, price: 0 }]
            });

            const [deliveryInfo, setDeliveryInfo] = useState({
                address: '', floor: '', hasFreightElevator: false, comment: ''
            });

            const [financialInfo, setFinancialInfo] = useState({
                prepaymentAmount: 0, prepaymentPercent: 0, paymentMethod: 'cash', invoiceNumber: ''
            });

            // –°–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è —á–µ—Ä—Ç–µ–∂–µ–π
            const [drawings, setDrawings] = useState([]);
            const [uploadingDrawings, setUploadingDrawings] = useState(false);

            const steps = [
                { id: 1, title: '–ö–ª–∏–µ–Ω—Ç', icon: User, description: '–û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è' },
                { id: 2, title: '–ó–∞–∫–∞–∑', icon: Package, description: '–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞' },
                { id: 3, title: '–î–æ—Å—Ç–∞–≤–∫–∞', icon: Truck, description: '–ê–¥—Ä–µ—Å –∏ —É—Å–ª–æ–≤–∏—è' },
                { id: 4, title: '–§–∏–Ω–∞–Ω—Å—ã', icon: DollarSign, description: '–û–ø–ª–∞—Ç–∞' },
                { id: 5, title: '–û–±–∑–æ—Ä', icon: FileText, description: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö' },
                { id: 6, title: '–ì–æ—Ç–æ–≤–æ', icon: Check, description: '–ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–Ω' }
            ];

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —á–µ—Ä—Ç–µ–∂–µ–π
            const handleDrawingUpload = (file) => {
                const newDrawing = {
                    id: Date.now() + Math.random(),
                    file: file, name: file.name, size: file.size, type: file.type
                };
                setDrawings(prev => [...prev, newDrawing]);
            };

            const handleDrawingDelete = (drawing) => {
                setDrawings(prev => prev.filter(d => d.id !== drawing.id));
            };

            const handleDrawingDownload = (drawing) => {
                if (drawing.file) {
                    const url = URL.createObjectURL(drawing.file);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = drawing.name;
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }
            };

            const handleDrawingView = (drawing) => {
                if (drawing.file) {
                    const url = URL.createObjectURL(drawing.file);
                    window.open(url, '_blank');
                }
            };

            // –í–∞–ª–∏–¥–∞—Ü–∏—è —à–∞–≥–æ–≤
            const validateStep1 = () => {
                const newErrors = {};
                if (!clientInfo.name.trim()) newErrors.name = '–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–ª–∏–µ–Ω—Ç–∞';
                if (!clientInfo.phone.trim()) newErrors.phone = '–í–≤–µ–¥–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –∫–ª–∏–µ–Ω—Ç–∞';
                if (clientInfo.email && !/\S+@\S+\.\S+/.test(clientInfo.email)) {
                    newErrors.email = '–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email';
                }
                setErrors(newErrors);
                return Object.keys(newErrors).length === 0;
            };

            const validateStep2 = () => {
                const newErrors = {};
                if (!orderDetails.productName.trim()) newErrors.productName = '–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞';
                const validItems = orderDetails.items.filter(item => item.name.trim());
                if (validItems.length === 0) {
                    newErrors.items = '–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É –ø–æ–∑–∏—Ü–∏—é';
                }
                setErrors(newErrors);
                return Object.keys(newErrors).length === 0;
            };

            const validateStep3 = () => {
                const newErrors = {};
                if (!deliveryInfo.address.trim()) newErrors.address = '–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏';
                setErrors(newErrors);
                return Object.keys(newErrors).length === 0;
            };

            const validateStep4 = () => {
                const newErrors = {};
                if (financialInfo.prepaymentAmount < 0) {
                    newErrors.prepaymentAmount = '–°—É–º–º–∞ –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—ã –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–π';
                }
                setErrors(newErrors);
                return Object.keys(newErrors).length === 0;
            };

            // –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É —à–∞–≥–∞–º–∏
            const nextStep = () => {
                let isValid = false;
                switch (currentStep) {
                    case 1: isValid = validateStep1(); break;
                    case 2: isValid = validateStep2(); break;
                    case 3: isValid = validateStep3(); break;
                    case 4: isValid = validateStep4(); break;
                    default: isValid = true;
                }

                if (isValid) {
                    setCompletedSteps(prev => new Set([...prev, currentStep]));
                    setCurrentStep(prev => Math.min(prev + 1, 5));
                    setErrors({});
                }
            };

            const prevStep = () => {
                setCurrentStep(prev => Math.max(prev - 1, 1));
                setErrors({});
            };

            // –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞
            const createOrder = async () => {
                setLoading(true);
                try {
                    // –°–æ–∑–¥–∞–µ–º –∑–∞–∫–∞–∑
                    const items = orderDetails.items
                        .filter(item => item.name.trim())
                        .map(item => ({
                            name: item.name, description: '', quantity: Number(item.quantity) || 1,
                            unit_price: Number(item.price) || 0,
                        }));

                    const totalAmount = items.reduce((sum, item) => sum + (item.quantity * item.unit_price), 0);

                    const orderData = {
                        customer_id: 1, // –¢–µ—Å—Ç–æ–≤—ã–π ID
                        product_name: orderDetails.productName,
                        status: 'new',
                        priority: orderDetails.priority,
                        delivery_date: orderDetails.deadline || null,
                        total_amount: totalAmount,
                        prepayment_amount: financialInfo.prepaymentAmount || 0,
                        paid_amount: 0,
                        notes: deliveryInfo.comment || '',
                        short_description: orderDetails.description || '',
                        detailed_description: orderDetails.description || '',
                        delivery_address: deliveryInfo.address || null,
                        has_elevator: deliveryInfo.hasFreightElevator,
                        floor: deliveryInfo.floor || null,
                        delivery_notes: deliveryInfo.comment || null,
                        items,
                    };

                    const response = await fetch('/api/orders', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                            'Authorization': `Bearer ${localStorage.getItem('token') || 'test-token'}`
                        },
                        body: JSON.stringify(orderData)
                    });

                    if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞');

                    const result = await response.json();
                    const orderId = result.order?.id || result.id;
                    setCreatedOrderId(orderId);
                    setCompletedSteps(prev => new Set([...prev, 5, 6]));
                    setCurrentStep(6); // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

                    // –ó–∞–≥—Ä—É–∂–∞–µ–º —á–µ—Ä—Ç–µ–∂–∏
                    if (drawings.length > 0 && orderId) {
                        setUploadingDrawings(true);
                        for (const drawing of drawings) {
                            const formData = new FormData();
                            formData.append('drawing', drawing.file);
                            
                            await fetch(`/api/orders/${orderId}/drawings`, {
                                method: 'POST',
                                headers: { 'Authorization': `Bearer ${localStorage.getItem('token') || 'test-token'}` },
                                body: formData
                            });
                        }
                        setUploadingDrawings(false);
                    }

                    alert('–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!');
                } catch (error) {
                    console.error('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞:', error);
                    alert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞: ' + error.message);
                } finally {
                    setLoading(false);
                }
            };

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞
            const addOrderItem = () => {
                setOrderDetails(prev => ({
                    ...prev,
                    items: [...prev.items, { name: '', quantity: 1, price: 0 }]
                }));
            };

            const removeOrderItem = (index) => {
                setOrderDetails(prev => ({
                    ...prev,
                    items: prev.items.filter((_, i) => i !== index)
                }));
            };

            const updateOrderItem = (index, field, value) => {
                setOrderDetails(prev => ({
                    ...prev,
                    items: prev.items.map((item, i) => 
                        i === index ? { ...item, [field]: value } : item
                    )
                }));
            };

            return React.createElement('div', { className: 'min-h-screen bg-gray-50' },
                React.createElement('div', { className: 'max-w-4xl mx-auto p-4' },
                    // –ó–∞–≥–æ–ª–æ–≤–æ–∫
                    React.createElement('div', { className: 'flex items-center justify-between mb-8' },
                        React.createElement('div', { className: 'flex items-center gap-4' },
                            React.createElement('button', {
                                onClick: () => window.history.back(),
                                className: 'flex items-center gap-2 px-4 py-2 text-gray-600 hover:text-gray-900 transition-colors'
                            },
                                React.createElement(ArrowLeft, { className: 'h-4 w-4' }),
                                '–ù–∞–∑–∞–¥ –∫ –∑–∞–∫–∞–∑–∞–º'
                            ),
                            React.createElement('div', null,
                                React.createElement('h1', { className: 'text-2xl font-bold text-gray-900' }, '–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞'),
                                React.createElement('p', { className: 'text-gray-600' }, '–ü–æ—à–∞–≥–æ–≤–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏')
                            )
                        )
                    ),

                    // –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä
                    React.createElement('div', { className: 'mb-8' },
                        React.createElement('div', { className: 'flex items-center justify-between' },
                            steps.map((step, index) => {
                                const Icon = step.icon;
                                const isCompleted = completedSteps.has(step.id);
                                const isCurrent = currentStep === step.id;
                                const isAccessible = step.id <= currentStep || completedSteps.has(step.id);

                                return React.createElement('div', { key: step.id, className: 'flex items-center' },
                                    React.createElement('div', { className: 'flex flex-col items-center' },
                                        React.createElement('div', {
                                            className: `w-12 h-12 rounded-full flex items-center justify-center border-2 transition-colors ${
                                                isCompleted ? 'step-completed' : 
                                                isCurrent ? 'step-current' : 
                                                isAccessible ? 'step-accessible' : 'step-disabled'
                                            }`
                                        },
                                            isCompleted ? React.createElement(Check, { className: 'h-6 w-6' }) : 
                                            React.createElement(Icon, { className: 'h-6 w-6' })
                                        ),
                                        React.createElement('div', { className: 'mt-2 text-center' },
                                            React.createElement('div', {
                                                className: `text-sm font-medium ${
                                                    isCurrent ? 'text-teal-600' : isCompleted ? 'text-gray-900' : 'text-gray-500'
                                                }`
                                            }, step.title),
                                            React.createElement('div', { className: 'text-xs text-gray-500' }, step.description)
                                        )
                                    ),
                                    index < steps.length - 1 && React.createElement('div', {
                                        className: `flex-1 h-0.5 mx-4 ${
                                            completedSteps.has(step.id) ? 'bg-teal-600' : 'bg-gray-200'
                                        }`
                                    })
                                );
                            })
                        )
                    ),

                    // –ö–æ–Ω—Ç–µ–Ω—Ç —à–∞–≥–∞
                    React.createElement('div', { className: 'bg-white rounded-xl shadow-sm border border-gray-100 p-8' },
                        // –®–∞–≥ 1 - –ö–ª–∏–µ–Ω—Ç
                        currentStep === 1 && React.createElement('div', null,
                            React.createElement('h2', { className: 'text-xl font-semibold text-gray-900 mb-6' }, '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ'),
                            React.createElement('div', { className: 'grid grid-cols-2 gap-6' },
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' },
                                        '–§–ò–û –∫–ª–∏–µ–Ω—Ç–∞ ', React.createElement('span', { className: 'text-red-500' }, '*')
                                    ),
                                    React.createElement('input', {
                                        type: 'text',
                                        className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 ${
                                            errors.name ? 'border-red-500' : 'border-gray-300'
                                        }`,
                                        placeholder: '–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á',
                                        value: clientInfo.name,
                                        onChange: (e) => setClientInfo(prev => ({ ...prev, name: e.target.value }))
                                    }),
                                    errors.name && React.createElement('p', { className: 'mt-1 text-sm text-red-600' }, errors.name)
                                ),
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' },
                                        '–¢–µ–ª–µ—Ñ–æ–Ω ', React.createElement('span', { className: 'text-red-500' }, '*')
                                    ),
                                    React.createElement('input', {
                                        type: 'tel',
                                        className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 ${
                                            errors.phone ? 'border-red-500' : 'border-gray-300'
                                        }`,
                                        placeholder: '+7 (900) 123-45-67',
                                        value: clientInfo.phone,
                                        onChange: (e) => setClientInfo(prev => ({ ...prev, phone: e.target.value }))
                                    }),
                                    errors.phone && React.createElement('p', { className: 'mt-1 text-sm text-red-600' }, errors.phone)
                                ),
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, 'Email'),
                                    React.createElement('input', {
                                        type: 'email',
                                        className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 ${
                                            errors.email ? 'border-red-500' : 'border-gray-300'
                                        }`,
                                        placeholder: 'client@example.com',
                                        value: clientInfo.email,
                                        onChange: (e) => setClientInfo(prev => ({ ...prev, email: e.target.value }))
                                    }),
                                    errors.email && React.createElement('p', { className: 'mt-1 text-sm text-red-600' }, errors.email)
                                ),
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, '–ö–æ–º–ø–∞–Ω–∏—è'),
                                    React.createElement('input', {
                                        type: 'text',
                                        className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500',
                                        placeholder: '–û–û–û –ü—Ä–∏–º–µ—Ä',
                                        value: clientInfo.company,
                                        onChange: (e) => setClientInfo(prev => ({ ...prev, company: e.target.value }))
                                    })
                                )
                            )
                        ),

                        // –®–∞–≥ 2 - –ó–∞–∫–∞–∑ —Å —á–µ—Ä—Ç–µ–∂–∞–º–∏
                        currentStep === 2 && React.createElement('div', null,
                            React.createElement('h2', { className: 'text-xl font-semibold text-gray-900 mb-6' }, '–î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞'),
                            React.createElement('div', { className: 'space-y-6' },
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' },
                                        '–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ ', React.createElement('span', { className: 'text-red-500' }, '*')
                                    ),
                                    React.createElement('input', {
                                        type: 'text',
                                        className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 ${
                                            errors.productName ? 'border-red-500' : 'border-gray-300'
                                        }`,
                                        placeholder: '–î–∏–≤–∞–Ω —É–≥–ª–æ–≤–æ–π',
                                        value: orderDetails.productName,
                                        onChange: (e) => setOrderDetails(prev => ({ ...prev, productName: e.target.value }))
                                    }),
                                    errors.productName && React.createElement('p', { className: 'mt-1 text-sm text-red-600' }, errors.productName)
                                ),

                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, '–û–ø–∏—Å–∞–Ω–∏–µ'),
                                    React.createElement('textarea', {
                                        className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500',
                                        rows: 3,
                                        placeholder: '–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∑–∞–∫–∞–∑—É',
                                        value: orderDetails.description,
                                        onChange: (e) => setOrderDetails(prev => ({ ...prev, description: e.target.value }))
                                    })
                                ),

                                // –ë–ª–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä—Ç–µ–∂–µ–π
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' },
                                        '–ß–µ—Ä—Ç–µ–∂–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã'
                                    ),
                                    React.createElement(DrawingUpload, {
                                        drawings: drawings,
                                        onUpload: handleDrawingUpload,
                                        onDelete: handleDrawingDelete,
                                        onDownload: handleDrawingDownload,
                                        onView: handleDrawingView,
                                        maxFiles: 10,
                                        maxFileSize: 10 * 1024 * 1024,
                                        acceptedTypes: ['.pdf', '.dwg', '.dxf', '.jpg', '.jpeg', '.png', '.tiff', '.bmp']
                                    })
                                ),

                                React.createElement('div', { className: 'grid grid-cols-2 gap-4' },
                                    React.createElement('div', null,
                                        React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç'),
                                        React.createElement('select', {
                                            className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500',
                                            value: orderDetails.priority,
                                            onChange: (e) => setOrderDetails(prev => ({ ...prev, priority: e.target.value }))
                                        },
                                            React.createElement('option', { value: 'low' }, '–ù–∏–∑–∫–∏–π'),
                                            React.createElement('option', { value: 'normal' }, '–û–±—ã—á–Ω—ã–π'),
                                            React.createElement('option', { value: 'high' }, '–í—ã—Å–æ–∫–∏–π'),
                                            React.createElement('option', { value: 'urgent' }, '–°—Ä–æ—á–Ω—ã–π')
                                        )
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, '–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è'),
                                        React.createElement('input', {
                                            type: 'date',
                                            className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500',
                                            value: orderDetails.deadline,
                                            onChange: (e) => setOrderDetails(prev => ({ ...prev, deadline: e.target.value }))
                                        })
                                    )
                                ),

                                // –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞
                                React.createElement('div', null,
                                    React.createElement('div', { className: 'flex items-center justify-between mb-4' },
                                        React.createElement('label', { className: 'block text-sm font-medium text-gray-700' },
                                            '–ü–æ–∑–∏—Ü–∏–∏ –∑–∞–∫–∞–∑–∞ ', React.createElement('span', { className: 'text-red-500' }, '*')
                                        ),
                                        React.createElement('button', {
                                            type: 'button',
                                            onClick: addOrderItem,
                                            className: 'px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors'
                                        }, '–î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é')
                                    ),
                                    errors.items && React.createElement('p', { className: 'mb-2 text-sm text-red-600' }, errors.items),
                                    React.createElement('div', { className: 'space-y-4' },
                                        orderDetails.items.map((item, index) => React.createElement('div', {
                                            key: index,
                                            className: 'grid grid-cols-12 gap-4 items-end'
                                        },
                                            React.createElement('div', { className: 'col-span-5' },
                                                React.createElement('input', {
                                                    type: 'text',
                                                    className: 'w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500',
                                                    placeholder: '–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏',
                                                    value: item.name,
                                                    onChange: (e) => updateOrderItem(index, 'name', e.target.value)
                                                })
                                            ),
                                            React.createElement('div', { className: 'col-span-2' },
                                                React.createElement('input', {
                                                    type: 'number',
                                                    className: 'w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500',
                                                    placeholder: '–ö–æ–ª-–≤–æ',
                                                    min: '1',
                                                    value: item.quantity,
                                                    onChange: (e) => updateOrderItem(index, 'quantity', Number(e.target.value))
                                                })
                                            ),
                                            React.createElement('div', { className: 'col-span-3' },
                                                React.createElement('input', {
                                                    type: 'number',
                                                    className: 'w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500',
                                                    placeholder: '–¶–µ–Ω–∞ –∑–∞ —à—Ç.',
                                                    min: '0',
                                                    step: '0.01',
                                                    value: item.price,
                                                    onChange: (e) => updateOrderItem(index, 'price', Number(e.target.value))
                                                })
                                            ),
                                            React.createElement('div', { className: 'col-span-2 flex gap-2' },
                                                React.createElement('div', {
                                                    className: 'flex-1 text-right py-2 text-sm font-medium text-gray-700'
                                                }, `${item.quantity * item.price}‚ÇΩ`),
                                                orderDetails.items.length > 1 && React.createElement('button', {
                                                    type: 'button',
                                                    onClick: () => removeOrderItem(index),
                                                    className: 'px-2 py-2 text-red-600 hover:text-red-800'
                                                }, '‚úï')
                                            )
                                        ))
                                    )
                                )
                            )
                        ),

                        // –û—Å—Ç–∞–ª—å–Ω—ã–µ —à–∞–≥–∏ (3-5) - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
                        currentStep === 3 && React.createElement('div', null,
                            React.createElement('h2', { className: 'text-xl font-semibold text-gray-900 mb-6' }, '–î–æ—Å—Ç–∞–≤–∫–∞'),
                            React.createElement('div', { className: 'space-y-6' },
                                React.createElement('div', null,
                                    React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' },
                                        '–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ ', React.createElement('span', { className: 'text-red-500' }, '*')
                                    ),
                                    React.createElement('input', {
                                        type: 'text',
                                        className: `w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 ${
                                            errors.address ? 'border-red-500' : 'border-gray-300'
                                        }`,
                                        placeholder: '–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, –¥. 1',
                                        value: deliveryInfo.address,
                                        onChange: (e) => setDeliveryInfo(prev => ({ ...prev, address: e.target.value }))
                                    }),
                                    errors.address && React.createElement('p', { className: 'mt-1 text-sm text-red-600' }, errors.address)
                                )
                            )
                        ),

                        currentStep === 4 && React.createElement('div', null,
                            React.createElement('h2', { className: 'text-xl font-semibold text-gray-900 mb-6' }, '–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —É—Å–ª–æ–≤–∏—è'),
                            React.createElement('div', { className: 'space-y-6' },
                                React.createElement('div', { className: 'grid grid-cols-2 gap-4' },
                                    React.createElement('div', null,
                                        React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, '–°—É–º–º–∞ –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—ã (‚ÇΩ)'),
                                        React.createElement('input', {
                                            type: 'number',
                                            className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500',
                                            placeholder: '0',
                                            min: '0',
                                            step: '0.01',
                                            value: financialInfo.prepaymentAmount,
                                            onChange: (e) => setFinancialInfo(prev => ({ ...prev, prepaymentAmount: Number(e.target.value) }))
                                        })
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('label', { className: 'block text-sm font-medium text-gray-700 mb-2' }, '–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã'),
                                        React.createElement('select', {
                                            className: 'w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500',
                                            value: financialInfo.paymentMethod,
                                            onChange: (e) => setFinancialInfo(prev => ({ ...prev, paymentMethod: e.target.value }))
                                        },
                                            React.createElement('option', { value: 'cash' }, '–ù–∞–ª–∏—á–Ω—ã–µ'),
                                            React.createElement('option', { value: 'card' }, '–ë–∞–Ω–∫–æ–≤—Å–∫–∞—è –∫–∞—Ä—Ç–∞'),
                                            React.createElement('option', { value: 'transfer' }, '–ë–∞–Ω–∫–æ–≤—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥')
                                        )
                                    )
                                )
                            )
                        ),

                        currentStep === 5 && React.createElement('div', null,
                            React.createElement('h2', { className: 'text-xl font-semibold text-gray-900 mb-6' }, '–û–±–∑–æ—Ä –∑–∞–∫–∞–∑–∞'),
                            React.createElement('div', { className: 'space-y-6' },
                                // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ
                                React.createElement('div', { className: 'bg-gray-50 rounded-lg p-4' },
                                    React.createElement('h3', { className: 'font-medium text-gray-900 mb-3' }, '–ö–ª–∏–µ–Ω—Ç'),
                                    React.createElement('div', { className: 'grid grid-cols-2 gap-4 text-sm' },
                                        React.createElement('div', null,
                                            React.createElement('span', { className: 'text-gray-600' }, '–§–ò–û: '),
                                            React.createElement('span', { className: 'ml-2 font-medium' }, clientInfo.name)
                                        ),
                                        React.createElement('div', null,
                                            React.createElement('span', { className: 'text-gray-600' }, '–¢–µ–ª–µ—Ñ–æ–Ω: '),
                                            React.createElement('span', { className: 'ml-2 font-medium' }, clientInfo.phone)
                                        ),
                                        clientInfo.email && React.createElement('div', null,
                                            React.createElement('span', { className: 'text-gray-600' }, 'Email: '),
                                            React.createElement('span', { className: 'ml-2 font-medium' }, clientInfo.email)
                                        ),
                                        clientInfo.company && React.createElement('div', null,
                                            React.createElement('span', { className: 'text-gray-600' }, '–ö–æ–º–ø–∞–Ω–∏—è: '),
                                            React.createElement('span', { className: 'ml-2 font-medium' }, clientInfo.company)
                                        )
                                    )
                                ),

                                // –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
                                React.createElement('div', { className: 'bg-gray-50 rounded-lg p-4' },
                                    React.createElement('h3', { className: 'font-medium text-gray-900 mb-3' }, '–ó–∞–∫–∞–∑'),
                                    React.createElement('div', { className: 'space-y-2 text-sm' },
                                        React.createElement('div', null,
                                            React.createElement('span', { className: 'text-gray-600' }, '–ü—Ä–æ–¥—É–∫—Ç: '),
                                            React.createElement('span', { className: 'ml-2 font-medium' }, orderDetails.productName)
                                        ),
                                        orderDetails.description && React.createElement('div', null,
                                            React.createElement('span', { className: 'text-gray-600' }, '–û–ø–∏—Å–∞–Ω–∏–µ: '),
                                            React.createElement('span', { className: 'ml-2' }, orderDetails.description)
                                        ),
                                        React.createElement('div', null,
                                            React.createElement('span', { className: 'text-gray-600' }, '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: '),
                                            React.createElement('span', { className: 'ml-2 font-medium capitalize' }, orderDetails.priority)
                                        ),
                                        drawings.length > 0 && React.createElement('div', null,
                                            React.createElement('span', { className: 'text-gray-600' }, '–ß–µ—Ä—Ç–µ–∂–∏: '),
                                            React.createElement('span', { className: 'ml-2 font-medium' }, `${drawings.length} —Ñ–∞–π–ª(–æ–≤)`)
                                        )
                                    )
                                )
                            )
                        ),

                        // –®–∞–≥ 6 - –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
                        currentStep === 6 && React.createElement('div', null,
                            React.createElement('div', { className: 'text-center mb-8' },
                                React.createElement('div', { className: 'mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4' },
                                    React.createElement(Check, { className: 'h-8 w-8 text-green-600' })
                                ),
                                React.createElement('h2', { className: 'text-2xl font-bold text-gray-900 mb-2' }, '–ó–∞–∫–∞–∑ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!'),
                                React.createElement('p', { className: 'text-gray-600' }, '–í–∞—à –∑–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç –≤ —Ä–∞–±–æ—Ç—É –∏ –ø–µ—Ä–µ–¥–∞–Ω –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ')
                            ),

                            // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ
                            React.createElement('div', { className: 'bg-gradient-to-r from-teal-50 to-blue-50 rounded-xl p-6 mb-6' },
                                React.createElement('div', { className: 'flex items-center justify-between mb-4' },
                                    React.createElement('h3', { className: 'text-lg font-semibold text-gray-900' }, '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ'),
                                    React.createElement('div', { className: 'bg-teal-100 text-teal-800 px-3 py-1 rounded-full text-sm font-medium' },
                                        `‚Ññ ${createdOrderId || '–ó–∞–≥—Ä—É–∑–∫–∞...'}`
                                    )
                                ),
                                React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-4 text-sm' },
                                    React.createElement('div', null,
                                        React.createElement('span', { className: 'text-gray-600' }, '–ö–ª–∏–µ–Ω—Ç: '),
                                        React.createElement('span', { className: 'ml-2 font-medium' }, clientInfo.name)
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('span', { className: 'text-gray-600' }, '–ü—Ä–æ–¥—É–∫—Ç: '),
                                        React.createElement('span', { className: 'ml-2 font-medium' }, orderDetails.productName)
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('span', { className: 'text-gray-600' }, '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: '),
                                        React.createElement('span', { className: 'ml-2 font-medium capitalize' }, orderDetails.priority)
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('span', { className: 'text-gray-600' }, '–°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: '),
                                        React.createElement('span', { className: 'ml-2 font-medium' },
                                            orderDetails.deadline ? new Date(orderDetails.deadline).toLocaleDateString() : '–ù–µ —É–∫–∞–∑–∞–Ω'
                                        )
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('span', { className: 'text-gray-600' }, '–ß–µ—Ä—Ç–µ–∂–∏: '),
                                        React.createElement('span', { className: 'ml-2 font-medium' }, `${drawings.length} —Ñ–∞–π–ª(–æ–≤)`)
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('span', { className: 'text-gray-600' }, '–û–±—â–∞—è —Å—É–º–º–∞: '),
                                        React.createElement('span', { className: 'ml-2 font-medium' },
                                            `${orderDetails.items
                                                .filter(item => item.name.trim())
                                                .reduce((sum, item) => sum + (item.quantity * item.price), 0)}‚ÇΩ`
                                        )
                                    )
                                )
                            ),

                            // QR-–∫–æ–¥
                            createdOrderId && React.createElement('div', { className: 'bg-white border border-gray-200 rounded-xl p-6 mb-6' },
                                React.createElement('h3', { className: 'text-lg font-semibold text-gray-900 mb-4' }, 'QR-–∫–æ–¥ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è'),
                                React.createElement('div', { className: 'flex flex-col items-center' },
                                    React.createElement(QRCodeGenerator, { orderId: createdOrderId }),
                                    React.createElement('p', { className: 'text-sm text-gray-600 mt-3 text-center' },
                                        'QR-–∫–æ–¥ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Å—ã–ª–∫—É –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏'
                                    )
                                )
                            ),

                            // –ß—Ç–æ –¥–∞–ª—å—à–µ
                            React.createElement('div', { className: 'bg-blue-50 border border-blue-200 rounded-xl p-6 mb-6' },
                                React.createElement('h3', { className: 'text-lg font-semibold text-blue-900 mb-4' }, '–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–∞–ª—å—à–µ?'),
                                React.createElement('div', { className: 'space-y-3' },
                                    React.createElement('div', { className: 'flex items-start space-x-3' },
                                        React.createElement('div', { className: 'flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center' },
                                            React.createElement('span', { className: 'text-blue-600 text-sm font-medium' }, '1')
                                        ),
                                        React.createElement('div', null,
                                            React.createElement('p', { className: 'font-medium text-blue-900' }, '–ó–∞–∫–∞–∑ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∑–∞–∫–∞–∑-–Ω–∞—Ä—è–¥'),
                                            React.createElement('p', { className: 'text-sm text-blue-700' }, '–í–∞—à –∑–∞–∫–∞–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞')
                                        )
                                    ),
                                    React.createElement('div', { className: 'flex items-start space-x-3' },
                                        React.createElement('div', { className: 'flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center' },
                                            React.createElement('span', { className: 'text-blue-600 text-sm font-medium' }, '2')
                                        ),
                                        React.createElement('div', null,
                                            React.createElement('p', { className: 'font-medium text-blue-900' }, '–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ'),
                                            React.createElement('p', { className: 'text-sm text-blue-700' }, '–ú–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞–∑–Ω–∞—á–∏—Ç –º–∞—Å—Ç–µ—Ä–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç —Å—Ä–æ–∫–∏')
                                        )
                                    ),
                                    React.createElement('div', { className: 'flex items-start space-x-3' },
                                        React.createElement('div', { className: 'flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center' },
                                            React.createElement('span', { className: 'text-blue-600 text-sm font-medium' }, '3')
                                        ),
                                        React.createElement('div', null,
                                            React.createElement('p', { className: 'font-medium text-blue-900' }, '–ù–∞—á–∞–ª–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞'),
                                            React.createElement('p', { className: 'text-sm text-blue-700' }, '–ó–∞–∫–∞–∑ –ø–µ—Ä–µ–π–¥–µ—Ç –≤ —Å—Ç–∞—Ç—É—Å "–í –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ"')
                                        )
                                    ),
                                    React.createElement('div', { className: 'flex items-start space-x-3' },
                                        React.createElement('div', { className: 'flex-shrink-0 w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center' },
                                            React.createElement('span', { className: 'text-blue-600 text-sm font-medium' }, '4')
                                        ),
                                        React.createElement('div', null,
                                            React.createElement('p', { className: 'font-medium text-blue-900' }, '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ'),
                                            React.createElement('p', { className: 'text-sm text-blue-700' }, '–í—ã –±—É–¥–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –∑–∞–∫–∞–∑–∞')
                                        )
                                    )
                                )
                            ),

                            // –ö–æ–Ω—Ç–∞–∫—Ç—ã
                            React.createElement('div', { className: 'bg-gray-50 border border-gray-200 rounded-xl p-6 mb-6' },
                                React.createElement('h3', { className: 'text-lg font-semibold text-gray-900 mb-4' }, '–ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?'),
                                React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-4 text-sm' },
                                    React.createElement('div', null,
                                        React.createElement('span', { className: 'text-gray-600' }, '–ú–µ–Ω–µ–¥–∂–µ—Ä: '),
                                        React.createElement('span', { className: 'ml-2 font-medium' }, '–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞')
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('span', { className: 'text-gray-600' }, '–¢–µ–ª–µ—Ñ–æ–Ω: '),
                                        React.createElement('span', { className: 'ml-2 font-medium' }, '+7 (495) 123-45-67')
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('span', { className: 'text-gray-600' }, 'Email: '),
                                        React.createElement('span', { className: 'ml-2 font-medium' }, 'orders@sofany.ru')
                                    ),
                                    React.createElement('div', null,
                                        React.createElement('span', { className: 'text-gray-600' }, '–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: '),
                                        React.createElement('span', { className: 'ml-2 font-medium' }, '9:00 - 18:00 (–ü–Ω-–ü—Ç)')
                                    )
                                )
                            ),

                            // –î–µ–π—Å—Ç–≤–∏—è
                            React.createElement('div', { className: 'flex flex-col sm:flex-row gap-4 justify-center' },
                                React.createElement('button', {
                                    onClick: () => alert('–ü–µ—Ä–µ—Ö–æ–¥ –∫ –∑–∞–∫–∞–∑—É (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏)'),
                                    className: 'flex items-center justify-center gap-2 px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors'
                                },
                                    React.createElement(FileText, { className: 'h-4 w-4' }),
                                    '–ü–µ—Ä–µ–π—Ç–∏ –∫ –∑–∞–∫–∞–∑—É'
                                ),
                                React.createElement('button', {
                                    onClick: () => alert('–ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ø–∏—Å–∫—É –∑–∞–∫–∞–∑–æ–≤ (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏)'),
                                    className: 'flex items-center justify-center gap-2 px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors'
                                },
                                    React.createElement(Package, { className: 'h-4 w-4' }),
                                    '–í—Å–µ –∑–∞–∫–∞–∑—ã'
                                ),
                                React.createElement('button', {
                                    onClick: () => {
                                        setCurrentStep(1);
                                        setCompletedSteps(new Set());
                                        setCreatedOrderId(null);
                                        setDrawings([]);
                                        setClientInfo({ name: '', phone: '', email: '', company: '' });
                                        setOrderDetails({ productName: '', description: '', priority: 'normal', deadline: '', items: [{ name: '', quantity: 1, price: 0 }] });
                                        setDeliveryInfo({ address: '', floor: '', hasFreightElevator: false, comment: '' });
                                        setFinancialInfo({ prepaymentAmount: 0, prepaymentPercent: 0, paymentMethod: 'cash', invoiceNumber: '' });
                                        setErrors({});
                                    },
                                    className: 'flex items-center justify-center gap-2 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors'
                                },
                                    React.createElement(Plus, { className: 'h-4 w-4' }),
                                    '–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∑–∞–∫–∞–∑'
                                )
                            )
                        )
                    ),

                    // –ù–∞–≤–∏–≥–∞—Ü–∏—è - —Å–∫—Ä—ã—Ç–∞ –Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
                    currentStep !== 6 && React.createElement('div', { className: 'flex justify-between mt-8' },
                        React.createElement('button', {
                            onClick: prevStep,
                            disabled: currentStep === 1,
                            className: 'flex items-center gap-2 px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed'
                        },
                            React.createElement(ArrowLeft, { className: 'h-4 w-4' }),
                            '–ù–∞–∑–∞–¥'
                        ),

                        React.createElement('div', { className: 'flex gap-4' },
                            currentStep === 5 ? React.createElement('button', {
                                onClick: createOrder,
                                disabled: loading || uploadingDrawings,
                                className: 'flex items-center gap-2 px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed'
                            },
                                (loading || uploadingDrawings) ? React.createElement('div', {
                                    className: 'h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin'
                                }) : React.createElement(Check, { className: 'h-4 w-4' }),
                                loading ? '–°–æ–∑–¥–∞–Ω–∏–µ...' : uploadingDrawings ? '–ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä—Ç–µ–∂–µ–π...' : '–°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑'
                            ) : React.createElement('button', {
                                onClick: nextStep,
                                className: 'flex items-center gap-2 px-6 py-3 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors'
                            },
                                '–î–∞–ª–µ–µ',
                                React.createElement(ArrowRight, { className: 'h-4 w-4' })
                            )
                        )
                    ),

                )
            );
        };

        // –†–µ–Ω–¥–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        ReactDOM.render(React.createElement(CreateOrderWizard), document.getElementById('root'));
    </script>
</body>
</html>
